{
   "outbounds":[
      {
         "tag":"esme tag config1",
         ///body config1
      },
      {
         "tag":"esme tag config2",
         ///body config2
      },
      {
         "tag":"esme tag config3",
         ///body config3
      },
      {
         "tag":"esme tag config4"
	 ///body config4
      },
      {
         "type":"selector",
         "tag":"Proxy",
         "outbounds":[
            "Auto",
            "esme tag config1",
            "esme tag config2",
            "esme tag config3",
            "esme tag config4"
         ],
         "default":"Auto"
      },
      {
         "type":"urltest",
         "tag":"Auto",
         "outbounds":[
            "esme tag config1",
            "esme tag config2",
            "esme tag config3",
            "esme tag config4"
         ],
         "url":"http://cp.cloudflare.com/generate_204",
         "interval":"1m",
         "tolerance":200,
         "interrupt_exist_connections":true
      },
      {
         "tag":"direct",
         "type":"direct"
      },
      {
         "tag":"block",
         "type":"block"
      },
      {
         "tag":"dns-out",
         "type":"dns"
      }
   ],
   "route":{
      "rule_set":[
         {
            "tag":"geoip-ir",
            "type":"remote",
            "format":"binary",
            "download_detour":"Proxy",
            "update_interval":"7d",
            "url":"https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-ir.srs"
         },
         {
            "tag":"geosite-all",
            "type":"remote",
            "format":"binary",
            "download_detour":"Proxy",
            "update_interval":"7d",
            "url":"https://github.com/bootmortis/sing-geosite/releases/latest/download/geosite-all.srs"
         }
      ],
      "rules":[
         {
            "inbound":"dns-in",
            "outbound":"dns-out"
         },
         {
            "port":[
               53,
               853
            ],
            "outbound":"dns-out"
         },
         {
            "ip_cidr":[
               "224.0.0.0/3",
               "10.10.34.34/29",
               "10.10.34.36",
               "ff00::/8"
            ],
            "outbound":"block"
         },
         {
            "protocol":"bittorrent",
            "outbound":"block"
         },
         {
            "domain_suffix":[
               "cdn.yektanet.com",
               "native-scripts.yektanet.com"
            ],
            "outbound":"block"
         },
         {
            "ip_is_private":true,
            "outbound":"direct"
         },
         {
            "domain_suffix":[
               ".ir"
            ],
            "outbound":"direct"
         },
         {
            "rule_set":[
               "geoip-ir",
               "geosite-all"
            ],
            "outbound":"direct"
         },
         {
            "process_name":[
               "nearby_share.exe"
            ],
            "outbound":"direct"
         },
         {
            "package_name":[
               "com.google.android.gms.nearby",
               "com.samsung.android.app.sharelive"
            ],
            "outbound":"direct"
         }
      ],
      "final":"Proxy",
      "auto_detect_interface":true,
      "override_android_vpn":true
   },
   "experimental":{
      "clash_api":{
         "external_controller":"127.0.0.1:9090",
         "external_ui":"Yacd",
         "external_ui_download_url":"https://github.com/MetaCubeX/Yacd-meta/archive/gh-pages.zip",
         "external_ui_download_detour":"Proxy",
         "secret":"",
         "default_mode":"rule"
      },
      "cache_file":{
         "enabled":true
      }
   },
   "dns":{
      "servers":[
         {
            "tag":"dns-remote",
            "address":"https://94.140.14.140/dns-query",
            "address_resolver":"dns-local"
         },
         {
            "tag":"dns-direct",
            "address":"udp://1.0.0.1"
         },
         {
            "tag":"dns-local",
            "address":"9.9.9.9"
         },
         {
            "tag":"dns-fake",
            "address":"fakeip"
         },
         {
            "tag":"dns-block",
            "address":"rcode://success"
         }
      ],
      "rules":[
         {
            "outbound":"direct",
            "server":"dns-direct"
         },
         {
            "outbound":"any",
            "server":"dns-direct"
         },
         {
            "domain_suffix":[
               "cdn.yektanet.com",
               "native-scripts.yektanet.com"
            ],
            "server":"dns-block"
         },
         {
            "protocol":[
               "bittorrent"
            ],
            "server":"dns-block"
         },
         {
            "rule_set":[
               "geosite-all"
            ],
            "server":"dns-direct"
         },
         {
            "domain_suffix":[
               ".ir"
            ],
            "server":"dns-direct"
         },
         {
            "query_type":[
               "A",
               "AAAA"
            ],
            "server":"dns-fake"
         }
      ],
      "fakeip":{
         "enabled":true,
         "inet4_range":"198.18.0.0/15",
         "inet6_range":"fc00::/18"
      },
      "independent_cache":false
   },
   "inbounds":[
      {
         "type":"tun",
         "tag":"tun-in",
         "interface_name":"singbox",
         "stack":"gvisor",
         "inet4_address":"172.19.0.1/28",
         "auto_route":true,
         "strict_route":true,
         "endpoint_independent_nat":true,
         "sniff":true
      },
      {
         "type":"mixed",
         "tag":"mixed-in",
         "listen":"0.0.0.0",
         "listen_port":2335,
         "sniff":true
      },
      {
         "type":"direct",
         "tag":"dns-in",
         "listen":"0.0.0.0",
         "listen_port":6450,
         "override_port":53
      }
   ],
   "log":{
      "level":"warn",
      "timestamp":true
   }
}
