{
    "allow-lan":true,
    "mode":"rule",
    "bind-address":"*",
    "mixed-port":8790,
    "port":8791,
    "socks-port":8792,
    "redir-port":8793,
    "tproxy-port":8794,
    "log-level":"silent",
    "ipv6":false,
    "unified-delay":true,
    "enable-process":true,
    "find-process-mode":"strict",
    "tcp-concurrent":true,
    "geodata-mode":true,
    "geodate-loader":"standard",
    "geo-auto-update":true,
    "geo-update-interval":24,
    "geox-url":{
        "geoip":"https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geoip.dat",
        "geosite":"https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geosite.dat",
        "mmdb":"https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/geoip.metadb",
        "asn":"https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/geolite2/GeoLite2-ASN.mmdb"
    },
    "profile":{
        "store-selected":true,
        "store-fake-ip":true
    },
    "sniffer":{
        "enable":true,
        "parse-pure-ip":false,
        "force-dns-mapping":true
    },
    "dns":{
        "enable":true,
        "listen":"0.0.0.0:1053",
        "ipv6":false,
        "respect-rules":true,
        "enhanced-mode":"fake-ip",
        "fake-ip-range":"198.18.0.1/16",
        "nameserver-policy":{
            "rule-set:wechatlist":"223.5.5.5",
            "rule-set:iran_other":"8.8.8.8",
            "rule-set:apps":"8.8.8.8",
            "+.ir":"8.8.8.8"
        },
        "default-nameserver":[
            "8.8.4.4",
            "8.8.8.8",
            "4.2.2.5"
        ],
        "nameserver":[
            "1.1.1.1",
            "tls://1.1.1.1",
            "udp://1.1.1.1"
        ],
        "direct-nameserver":[
            "8.8.8.8",
            "4.2.2.5",
            "1.1.1.3"
        ],
        "proxy-server-nameserver":[
            "1.1.1.1",
            "tls://1.1.1.1",
            "udp://1.1.1.1"
        ],
        "fallback":[
            "tls://4.2.2.4"
        ],
        "fallback-filter":{
            "geoip":false,
            "ipcidr":[
                "240.0.0.0/4",
                "0.0.0.0/32"
            ]
        }
    },
    "tun":{
        "enable":true,
        "stack":"gvisor",
        "auto-route":true,
        "auto-redirect":true,
        "auto-detect-interface":true,
        "strict-route":true,
        "dns-hijack":[
            "any:53",
            "tcp://any:53"
        ]
    },
    "proxy-providers":{
        "aggregator":{
            "type":"http",
            "exclude-type":"http",
            "url":"https://cdn.jsdelivr.net/gh/mahdibland/V2RayAggregator@master/sub/sub_merge_yaml.yml",
            "path":"./providers/aggregator.yaml",
            "health-check":{
                "enable":true,
                "interval":3600,
                "timeout":4000,
                "lazy":true,
                "expected-status":204,
                "url":"https://www.youtube.com/generate_204"
            }
        },
        "yebekhe":{
            "type":"http",
            "exclude-type":"http",
            "url":"https://cdn.jsdelivr.net/gh/yebekhe/TVC@main/subscriptions/meta/mix",
            "path":"./providers/yebekhe.yaml",
            "health-check":{
                "enable":true,
                "interval":3600,
                "timeout":4000,
                "lazy":true,
                "expected-status":204,
                "url":"https://www.youtube.com/generate_204"
            }
        }
    },
    "proxies":[
        {
            "name":"ProxyName1",
            "type":"hysteria",
            "server":"",
            "password":"",
            "port":7654
        },
        {
            "name":"ProxyName2",
            "type":"hysteria",
            "server":"",
            "password":"",
            "port":6543
        },
        {
            "name":"ProxyName3",
            "type":"hysteria",
            "server":"",
            "password":"",
            "port":4321
        },
        {
            "name":"ProxyName4",
            "type":"hysteria",
            "server":"",
            "password":"",
            "port":5432
        },
        {
            "name":"ProxyName5",
            "type":"wireguard",
            "ip":"172.16.0.2/32",
            "ipv6":"",
            "private-key":"",
            "server":"",
            "port":443,
            "public-key":"",
            "allowed-ips":[
                "0.0.0.0/0",
                "::/0"
            ],
            "reserved":"T4Bw",
            "udp":true,
            "mtu":1280,
            "dialer-proxy":"",
            "remote-dns-resolve":true,
            "dns":[
                "1.1.1.1",
                "1.0.0.1"
            ]
        }
    ],
    "proxy-groups":[
        {
            "name":"Smart VPN",
            "type":"select",
            "lazy":true,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png",
            "proxies":[
                "Group1",
                "Group2",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5",
                "üö®Emergancy1",
                "üö®Emergancy2",
                "‚öñÔ∏èLoad Balancer",
                "‚ö†Ô∏èFallback"
            ]
        },
        {
            "name":"Iranian",
            "type":"select",
            "lazy":true,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Back.png",
            "proxies":[
                "DIRECT",
                "REJECT"
            ]
        },
        {
            "name":"WeChat",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/wechat(1).png",
            "proxies":[
                "Smart VPN",
                "DIRECT"
            ]
        },
        {
            "name":"Microsoft",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png",
            "proxies":[
                "Smart VPN",
                "DIRECT",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        },
        {
            "name":"Apple",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png",
            "proxies":[
                "Smart VPN",
                "DIRECT",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        },
        {
            "name":"Cloudflare",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Cloudflare.png",
            "proxies":[
                "Smart VPN",
                "DIRECT",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        },
        {
            "name":"OpenAI-Gemini-Copilot",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/ChatGPT-green.png",
            "proxies":[
                "Smart VPN",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4"
            ]
        },
        {
            "name":"Steam",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/steam(1).png",
            "proxies":[
                "Smart VPN",
                "DIRECT",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        },
        {
            "name":"Discord",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/discord(2).png",
            "proxies":[
                "Smart VPN",
                "DIRECT",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        },
        {
            "name":"Github",
            "type":"select",
            "lazy":true,
            "hidden":false,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Lab.png",
            "proxies":[
                "Smart VPN",
                "DIRECT",
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        },
        {
            "name":"Pro",
            "type":"select",
            "lazy":true,
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Pandora.png",
            "proxies":[
                "REJECT",
                "Smart VPN"
            ]
        },
        {
            "name":"Group1",
            "type":"url-test",
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/DE.png",
            "url":"http://connectivitycheck.gstatic.com/generate_204",
            "lazy":true,
            "interval":120,
            "tolerance":200,
            "hidden":true,
            "proxies":[
                "ProxyName2",
                "ProxyName1"
            ]
        },
        {
            "name":"Group2",
            "type":"url-test",
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/EU.png",
            "url":"http://connectivitycheck.gstatic.com/generate_204",
            "lazy":true,
            "interval":120,
            "tolerance":200,
            "hidden":true,
            "proxies":[
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4"
            ]
        },
        {
            "name":"üö®Emergancy1",
            "type":"url-test",
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Area.png",
            "url":"http://connectivitycheck.gstatic.com/generate_204",
            "lazy":true,
            "interval":120,
            "tolerance":200,
            "timeout":4000,
            "hidden":false,
            "use":[
                "yebekhe"
            ]
        },
        {
            "name":"üö®Emergancy2",
            "type":"url-test",
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Server.png",
            "url":"http://connectivitycheck.gstatic.com/generate_204",
            "lazy":true,
            "interval":120,
            "tolerance":200,
            "timeout":4000,
            "hidden":false,
            "use":[
                "aggregator"
            ]
        },
        {
            "name":"‚öñÔ∏èLoad Balancer",
            "type":"load-balance",
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bypass.png",
            "url":"http://connectivitycheck.gstatic.com/generate_204",
            "lazy":true,
            "interval":120,
            "tolerance":200,
            "hidden":true,
            "proxies":[
                "ProxyName2",
                "ProxyName1"
            ]
        },
        {
            "name":"‚ö†Ô∏èFallback",
            "type":"fallback",
            "icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Loop.png",
            "url":"http://connectivitycheck.gstatic.com/generate_204",
            "lazy":true,
            "interval":120,
            "tolerance":200,
            "hidden":true,
            "proxies":[
                "ProxyName2",
                "ProxyName1",
                "ProxyName3",
                "ProxyName4",
                "ProxyName5"
            ]
        }
    ],
    "rule-providers":{
        "ircidr":{
            "type":"http",
            "format":"text",
            "behavior":"ipcidr",
            "url":"https://cdn.jsdelivr.net/gh/Chocolate4U/Iran-clash-rules@release/ircidr.txt",
            "path":"./ruleset/ircidr.txt",
            "interval":"86400"
        },
        "iran_other":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules_other.txt",
            "path":"./ruleset/iran_other.txt",
            "interval":"86400"
        },
        "malware":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.txt",
            "path":"./ruleset/malware.txt",
            "interval":"86400"
        },
        "phishing":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.txt",
            "path":"./ruleset/phishing.txt",
            "interval":"86400"
        },
        "cryptominers":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.txt",
            "path":"./ruleset/cryptominers.txt",
            "interval":"86400"
        },
        "apps":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/chocolate4u/Iran-clash-rules@release/apps.txt",
            "path":"./ruleset/apps.txt",
            "interval":"86400"
        },
        "wechatlist":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/WeChat/WeChat.list",
            "path":"./ruleset/wechatlist.txt",
            "interval":"86400"
        },
        "microsoft":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.list",
            "path":"./ruleset/microsoft.txt",
            "interval":"86400"
        },
        "apple":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple.yaml",
            "path":"./ruleset/apple.txt",
            "interval":"86400"
        },
        "cloudflare":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Cloudflare/Cloudflare.list",
            "path":"./ruleset/cloudflare.txt",
            "interval":"86400"
        },
        "openai":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.list",
            "path":"./ruleset/openai.txt",
            "interval":"86400"
        },
        "gemini":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Gemini/Gemini.list",
            "path":"./ruleset/gemini.txt",
            "interval":"86400"
        },
        "copilot":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Copilot/Copilot.list",
            "path":"./ruleset/copilot.txt",
            "interval":"86400"
        },
        "steam":{
            "type":"http",
            "format":"text",
            "behavior":"classical",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Steam/Steam.yaml",
            "path":"./ruleset/steam.txt",
            "interval":"86400"
        },
        "discord":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Discord/Discord.list",
            "path":"./ruleset/discord.txt",
            "interval":"86400"
        },
        "github":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.list",
            "path":"./ruleset/github.txt",
            "interval":"86400"
        },
        "Pro":{
            "type":"http",
            "format":"text",
            "behavior":"domain",
            "url":"https://cdn.jsdelivr.net/gh/Chocolate4U/Iran-clash-rules@release/nsfw.txt",
            "path":"./ruleset/pro.txt",
            "interval":"86400"
        }
    },
    "rules":[
        "RULE-SET,Pro,Pro",
        "RULE-SET,microsoft,Microsoft",
        "RULE-SET,apple,Apple",
        "DOMAIN,www.cloudflare.com,DIRECT",
        "RULE-SET,cloudflare,Cloudflare",
        "RULE-SET,openai,OpenAI-Gemini-Copilot",
        "RULE-SET,gemini,OpenAI-Gemini-Copilot",
        "RULE-SET,copilot,OpenAI-Gemini-Copilot",
        "RULE-SET,steam,Steam",
        "RULE-SET,discord,Discord",
        "RULE-SET,github,Github",
        "RULE-SET,malware,REJECT",
        "RULE-SET,phishing,REJECT",
        "RULE-SET,cryptominers,REJECT",
        "RULE-SET,apps,Iranian",
        "RULE-SET,iran_other,Iranian",
        "RULE-SET,ircidr,Iranian,no-resolve",
        "DOMAIN-SUFFIX,ir,Iranian",
        "DOMAIN-SUFFIX,cdn.yektanet.com,REJECT",
        "DOMAIN-SUFFIX,native-scripts.yektanet.com,REJECT",
        "IP-CIDR,10.10.34.34/29,DIRECT,no-resolve",
        "DOMAIN,api.ipify.org,DIRECT",
        "PROCESS-NAME,com.google.android.gms.nearby,DIRECT",
        "PROCESS-NAME,com.samsung.android.app.sharelive,DIRECT",
        "RULE-SET,wechatlist,WeChat",
        "PROCESS-NAME,com.google.android.gms.nearby,DIRECT",
        "PROCESS-NAME,com.samsung.android.app.sharelive,DIRECT",
        "PROCESS-NAME,com.tencent.mm,WeChat,no-resolve",
        "PROCESS-NAME,com.tencent.wework,WeChat,no-resolve",
        "PROCESS-NAME,WeChat,WeChat,no-resolve",
        "PROCESS-NAME,WeCom,WeChat,no-resolve",
        "PROCESS-NAME,WeChat.exe,WeChat,no-resolve",
        "PROCESS-NAME,WeChatAppEx.exe,WeChat,no-resolve",
        "PROCESS-NAME,WXWork.exe,WeChat,no-resolve",
        "PROCESS-NAME,nearby_share.exe,DIRECT",
        "GEOIP,private,DIRECT,no-resolve",
        "MATCH,Smart VPN"
    ]
}
