{
   "outbounds":[
      {
         "tag":"esme tag config1",
        ///body config1
      },
      {
         "tag":"esme tag config2",
        ///body config2
      },
      {
         "tag":"esme tag config3",
        ///body config3
      },
      {
         "tag":"esme tag config4"
        ///body config4
      },
      {
         "type":"selector",
         "tag":"Select",
         "outbounds":[
            "Auto",
            "esme tag config1",
            "esme tag config2",
            "esme tag config3",
            "esme tag config4"
         ],
         "default":"Auto"
      },
      {
         "type":"urltest",
         "tag":"Auto",
         "outbounds":[
            "esme tag config1",
            "esme tag config2",
            "esme tag config3",
            "esme tag config4"
         ],
         "url":"https://www.gstatic.com/generate_204",
         "interval":"30m"
      },
      {
         "tag":"direct",
         "type":"direct"
      },
      {
         "type":"direct",
         "tag":"bypass"
      },
      {
         "tag":"block",
         "type":"block"
      },
      {
         "tag":"dns-out",
         "type":"dns"
      }
   ],
   "route":{
      "rule_set":[
         {
            "tag":"geoip-ir",
            "type":"remote",
            "format":"binary",
            "download_detour":"Select",
            "update_interval":"1d",
            "url":"https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-ir.srs"
         },
         {
            "tag":"geosite-ir",
            "type":"remote",
            "format":"binary",
            "download_detour":"Select",
            "update_interval":"1d",
            "url":"https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-ir.srs"
         }
      ],
      "rules":[
         {
            "inbound":"dns-in",
            "outbound":"dns-out"
         },
         {
            "port":53,
            "outbound":"dns-out"
         },
         {
            "ip_is_private":true,
            "outbound":"direct"
         },
         {
            "rule_set":[
               "geoip-ir",
               "geosite-ir"
            ],
            "outbound":"direct"
         },
         {
            "domain_suffix":[
               "cdn.yektanet.com",
               "native-scripts.yektanet.com"
            ],
            "outbound":"block"
         },
         {
            "process_name":[
               "nearby_share.exe"
            ],
            "outbound":"direct"
         },
         {
            "package_name":[
               "com.google.android.gms.nearby"
            ],
            "outbound":"direct"
         },
         {
            "domain_suffix":[
               "proton.me",
               "bitwarden.com"
            ],
            "outbound":"direct"
         },
         {
            "protocol":[
               "bittorrent"
            ],
            "outbound":"block"
         },
         {
            "ip_cidr":[
               "224.0.0.0/3",
               "10.10.34.34/29",
               "ff00::/8"
            ],
            "outbound":"block"
         }
      ],
      "final":"Select",
      "auto_detect_interface":true,
      "override_android_vpn":true
   },
   "experimental":{
      "clash_api":{
         "external_controller":"0.0.0.0:9090",
         "external_ui":"Yacd",
         "external_ui_download_url":"https://github.com/MetaCubeX/Yacd-meta/archive/gh-pages.zip",
         "external_ui_download_detour":"Select",
         "secret":"",
         "default_mode":"rule"
      },
      "cache_file":{
         "enabled":true,
         "store_fakeip":true
      }
   },
   "dns":{
      "servers":[
         {
            "tag":"dns-remote",
            "address":"94.140.14.14",
            "address_resolver":"dns-direct"
         },
         {
            "tag":"dns-direct",
            "address":"1.1.1.1",
            "address_resolver":"dns-local",
            "detour":"direct"
         },
         {
            "tag":"dns-local",
            "address":"8.8.8.8",
            "detour":"direct"
         },
         {
            "tag":"dns-block",
            "address":"rcode://success"
         }
      ],
      "rules":[
         {
            "protocol":[
               "bittorrent"
            ],
            "server":"dns-block"
         },
         {
            "outbound":"direct",
            "server":"dns-direct"
         },
         {
            "outbound":"Select",
            "server":"dns-remote"
         }
      ],
      "independent_cache":false
   },
   "inbounds":[
      {
         "type":"tun",
         "tag":"tun-in",
         "interface_name":"singbox-adapter",
         "stack":"gvisor",
         "mtu":1500,
         "inet4_address":"172.19.0.1/28",
         "auto_route":true,
         "strict_route":true,
         "endpoint_independent_nat":true,
         "sniff":true,
         "sniff_override_destination":true
      },
      {
         "type":"mixed",
         "tag":"mixed-in",
         "listen":"127.0.0.1",
         "listen_port":2335,
         "sniff":true,
         "sniff_override_destination":true
      },
      {
         "type":"direct",
         "tag":"dns-in",
         "listen":"127.0.0.1",
         "listen_port":6450,
         "override_address":"1.1.1.1",
         "override_port":53
      }
   ],
   "log":{
      "level":"warn",
      "timestamp":true
   }
}
